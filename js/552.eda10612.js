"use strict";(self["webpackChunkpenny_vault"]=self["webpackChunkpenny_vault"]||[]).push([[552],{5100:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var r=a(42874);const i={class:"q-pa-xs q-px-md"},l={class:"row q-gutter-md"},o={class:"col"},s={class:"q-mt-sm q-mb-sm"},d=(0,r.Uk)("Strategies"),n={class:"row q-col-gutter-lg"},u={class:"col-xl-8 col-lg-8 col-md-12 col-sm-12 col-xs-12"},c={class:"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-xs-12"};function m(e,t,a,m,v,h){const p=(0,r.up)("q-icon"),g=(0,r.up)("q-breadcrumbs-el"),N=(0,r.up)("q-breadcrumbs"),y=(0,r.up)("ag-grid-vue"),f=(0,r.up)("am-scatter-plot"),F=(0,r.up)("px-card");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("div",l,[(0,r._)("div",o,[(0,r._)("h4",s,[(0,r.Wm)(p,{name:"app:portfolio",color:"grey-9",size:"sm",class:"q-mr-md q-mb-sm"}),d]),(0,r.Wm)(N,{class:"q-mb-lg"},{default:(0,r.w5)((()=>[(0,r.Wm)(g,{icon:"home",to:"/app"}),(0,r.Wm)(g,{label:"Strategies"})])),_:1})])]),(0,r._)("div",n,[(0,r._)("div",u,[(0,r.Wm)(y,{style:{width:"100%",height:"500px"},class:"ag-theme-alpine",columnDefs:e.columnDefs,rowData:e.rowData,gridOptions:e.gridOptions,onGridReady:e.onGridReady,sideBar:e.sideBar,rowSelection:"multiple"},null,8,["columnDefs","rowData","gridOptions","onGridReady","sideBar"])]),(0,r._)("div",c,[(0,r.Wm)(F,{title:"Risk vs Return"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{style:{height:"435px"},labels:"{shortcode}","x-title":"Risk: Ulcer Index (%)","y-title":"Return: CAGR (%)","series-config":e.series,data:e.data},null,8,["series-config","data"])])),_:1})])])])}var v=a(21999),h=a(28339),p=a(23207),g=a(28736),N=a(89616);const y={id:"vue-amscatter",class:"vue-amscatter"};function f(e,t,a,i,l,o){return(0,r.wg)(),(0,r.iD)("div",y)}var F=a(82535),b=a(98293),w=a(96468);const x=(0,r.aZ)({name:"AmScatterPlot",props:{data:{type:Array,required:!0},seriesConfig:{type:Array,default(){return[{title:"Series 1",valueX:"x",valueY:"y",strokeOpacity:0,symbol:"circle"}]}},labels:{type:String,default:""},xTitle:{type:String,default:"X"},yTitle:{type:String,default:"Y"}},setup(e){const{data:t,labels:a,seriesConfig:i,xTitle:l,yTitle:o}=(0,r.BK)(e);var s=void 0;async function d(){let e=new Array;i.value.forEach(((t,r)=>{let i=s.series.push(new b.eh);if(i.dataFields.valueX=t.valueX||"x",i.dataFields.valueY=t.valueY||"y",i.strokeOpacity=t.strokeOpacity||0,""!==a.value){let e=i.bullets.push(new b.KC);e.label.text=a.value,e.label.dy=20}let l=i.bullets.push(new b.gT);var o;let d=t.symbol||"circle";switch(d){case"circle":o=l.createChild(F.Cdc);break;case"triangle":o=l.createChild(F.CJI);break;default:console.error(`Unknown symbol in scatter plot series: ${d}`),o=l.createChild(F.Cdc)}o.horizontalCenter=t.horizontalCenter||"middle",o.verticalCenter=t.verticalCenter||"middle",o.strokeWidth=t.strokeWidth||0,t.color?"number"===typeof t.color?o.fill=s.colors.getIndex(t.color):o.fill=F.$_Y(t.color):o.fill=s.colors.getIndex(r),o.direction=t.direction||"top",o.width=t.width||12,o.height=t.height||12;let n=o.states.create("hover");n.properties.scale=1.7,o.tooltipText=t.tooltipText||"X: {valueX} / Y: {valueY}",o.tooltipX=-10,i.tooltip.background.cornerRadius=5,i.tooltip.background.strokeOpacity=0,i.tooltip.pointerOrientation="right",i.tooltip.label.minWidth=40,i.tooltip.label.minHeight=40,i.tooltip.label.textAlign="left",i.tooltip.label.textValign="middle",i.tooltip.getFillFromObject=!1,i.tooltip.label.fill=F.$_Y("black"),i.tooltip.background.fill=F.$_Y("#FFFFFF"),e.push(i)}))}async function n(){s&&s.dispose(),s=F.Ue8("vue-amscatter",b.zO),s.data=t.value;var e=s.xAxes.push(new b.mn);e.title.text=l.value,e.renderer.minGridDistance=40;var a=s.yAxes.push(new b.mn);a.title.text=o.value;d()}return F.FgM(w.Z),(0,r.YP)(t,(async e=>{s.data=e})),(0,r.bv)((async()=>{n()})),(0,r.SK)((async()=>{s&&s.dispose()})),{}}});var C=a(11639);const D=(0,C.Z)(x,[["render",f]]),S=D;var R=a(86204);const W=(0,r.aZ)({name:"PortfolioList",components:{AgGridVue:g.AgGridVue,AmScatterPlot:S,btnCellRenderer:N.Z,PxCard:R.Z},setup(){const e=(0,v.oR)(),t=(0,h.tv)(),a=(0,r.iH)([{valueX:"x",valueY:"y",tooltipText:"[bold]{strategy}[/]\n\n{description}\n\n[bold]Return:[/] {valueY}%   [bold]Risk:[/] {valueX}"}]),i=(0,r.iH)({defaultColDef:{flex:1,minWidth:200,sortable:!0,resizable:!0,floatingFilter:!0}}),l=(0,r.iH)({}),o=(0,r.iH)({}),s=(0,r.iH)([{field:"shortcode",headerName:"",cellRendererFramework:"btnCellRenderer",cellRendererParams:{clicked:function(e){t.push({path:`/app/strategy/${e}`})}.bind(this)},minWidth:115,maxWidth:115,resizable:!0,sortable:!1,editable:!1,floatingFilter:!1,suppressMenu:!0,filter:!1},{field:"name",minWidth:250,filter:"agTextColumnFilter",filterParams:{buttons:["reset","apply"]}},{headerName:"% YTD",minWidth:80,width:110,filter:"agNumberColumnFilter",valueGetter:e=>2===e.data.metrics.ytdReturn.Status?e.data.metrics.ytdReturn.Float:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.T3)(e.value)},{headerName:"CAGR Since Inception",minWidth:80,width:110,hide:!0,filter:"agNumberColumnFilter",valueGetter:e=>2===e.data.metrics.cagrSinceInception.Status?e.data.metrics.cagrSinceInception.Float:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.T3)(e.value)},{headerName:"CAGR 3-yr",minWidth:80,width:110,hide:!0,filter:"agNumberColumnFilter",valueGetter:e=>2===e.data.metrics.cagr3yr.Status?e.data.metrics.cagr3yr.Float:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.T3)(e.value)},{headerName:"CAGR 5-yr",minWidth:80,width:110,hide:!0,filter:"agNumberColumnFilter",valueGetter:e=>2===e.data.metrics.cagr5yr.Status?e.data.metrics.cagr5yr.Float:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.T3)(e.value)},{headerName:"CAGR 10-yr",minWidth:80,width:110,hide:!1,filter:"agNumberColumnFilter",valueGetter:e=>2===e.data.metrics.cagr10yr.Status?e.data.metrics.cagr10yr.Float:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.T3)(e.value)},{headerName:"Std. Dev.",minWidth:80,width:110,hide:!0,filter:"agNumberColumnFilter",valueGetter:e=>2===e.data.metrics.stdDev.Status?e.data.metrics.stdDev.Float:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.T3)(e.value)},{headerName:"Downside Deviation",hide:!0,minWidth:80,width:110,filter:"agNumberColumnFilter",valueGetter:e=>2===e.data.metrics.downsideDeviation.Status?e.data.metrics.downsideDeviation.Float:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.T3)(e.value)},{headerName:"Max DD",minWidth:80,width:110,filter:"agNumberColumnFilter",valueGetter:e=>2===e.data.metrics.maxDrawDown.Status?e.data.metrics.maxDrawDown.Float:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.T3)(e.value)},{headerName:"Avg DD",hide:!0,minWidth:80,width:110,filter:"agNumberColumnFilter",valueGetter:e=>2===e.data.metrics.avgDrawDown.Status?e.data.metrics.avgDrawDown.Float:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.T3)(e.value)},{headerName:"Sharpe",hide:!0,minWidth:80,width:110,filter:"agNumberColumnFilter",valueGetter:e=>2===e.data.metrics.sharpeRatio.Status?e.data.metrics.sharpeRatio.Float:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.uf)(e.value)},{headerName:"Sortino",minWidth:80,width:110,filter:"agNumberColumnFilter",valueGetter:e=>2===e.data.metrics.sortinoRatio.Status?e.data.metrics.sortinoRatio.Float:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.uf)(e.value)},{headerName:"Ulcer Idx",minWidth:80,width:110,filter:"agNumberColumnFilter",valueGetter:e=>2===e.data.metrics.ulcerIndex.Status?e.data.metrics.ulcerIndex.Float:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.uf)(e.value)}]),d=(0,r.iH)(!0),n=(0,r.Fl)((()=>e.state.strategy.list)),u=(0,r.iH)([]);async function c(){u.value=new Array,console.log(n),n.value.forEach((e=>{var t,a;t=2===e.metrics.downsideDeviation.Status?e.metrics.downsideDeviation.Float.toFixed(2):1,2===e.metrics.cagr10yr.Status?a=(100*e.metrics.cagr10yr.Float).toFixed(2):2===e.metrics.cagr5yr.Status?a=(100*e.metrics.cagr5yr.Float).toFixed(2):2===e.metrics.cagr3yr.Status?a=(100*e.metrics.cagr3yr.Float).toFixed(2):2===e.metrics.ytdReturn.Status&&(a=(100*e.metrics.ytdReturn.Float).toFixed(2)),u.value.push({x:t,y:a,strategy:e.name,shortcode:e.shortcode,description:(0,p.BW)(e.description,30)})}))}return c(),e.dispatch("strategy/fetchStrategies"),(0,r.YP)(n,(async e=>{c()})),(0,r.bv)((()=>{l.value=i.value.api,o.value=i.value.columnApi})),{columnApi:o,columnDefs:s,data:u,gridApi:l,gridOptions:i,rowData:n,series:a,sideBar:d,onGridReady(e){l.value.closeToolPanel()}}}});var G=a(69885),k=a(22857),A=a(72605),T=a(28052),Y=a(69984),q=a.n(Y);const _=(0,C.Z)(W,[["render",m]]),I=_;q()(W,"components",{QPage:G.Z,QIcon:k.Z,QBreadcrumbs:A.Z,QBreadcrumbsEl:T.Z})}}]);